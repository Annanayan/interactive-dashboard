<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Math Village</title>

  <!-- 外部资源 -->
  <link rel="stylesheet" href="style.css" />
  <script src="https://kit.fontawesome.com/787740fea7.js" crossorigin="anonymous"></script>
</head>
<body>
  <!-- 登录/注册页面 -->
  <div id="auth-page" class="auth-container">
    <div class="auth-content">
      <!-- Logo 和标题 -->
      <div class="auth-header">
        <img src="images/logo.png" class="auth-logo" alt="Math Village" />
        <h1 class="auth-title">Math Village</h1>
      </div>

      <!-- 中间的卡片区域 -->
      <div class="auth-card">
        <!-- 左侧：招手地球人 -->
        <div class="auth-mascot">
          <img src="images/comic earth.png" alt="Welcome" class="mascot-image" />
        </div>

        <!-- 右侧：表单 -->
        <div class="auth-form-container">
          <div class="auth-tabs">
            <button class="auth-tab active" data-mode="register">Register</button>
            <button class="auth-tab" data-mode="login">Login</button>
          </div>

          <!-- 注册表单 -->
          <form id="register-form" class="auth-form active">
            <input type="text" id="reg-username" placeholder="Username" required />
            <span id="username-error" class="error-message"></span>
            <input type="password" id="reg-password" placeholder="Password" required />
            <span id="password-error" class="error-message">Password must be at least 6 characters</span>
            <button type="submit" class="auth-submit">Register</button>
          </form>

          <!-- 登录表单 -->
          <form id="login-form" class="auth-form">
            <input type="text" id="login-username" placeholder="Username" required />
            <input type="password" id="login-password" placeholder="Password" required />
            <span id="login-error" class="error-message"></span>
            <button type="submit" class="auth-submit">Login</button>
          </form>

          <a href="#" class="auth-switch" id="auth-switch">Login instead</a>
        </div>
      </div>

      <!-- 底部功能展示 -->
      <div class="auth-features">
        <div class="feature-item" style="background: #64B2D8;">
          <i class="fas fa-brain"></i>
          <span>Daily Practice</span>
        </div>
        <div class="feature-item" style="background: #58B65F;">
          <i class="fas fa-medal"></i>
          <span>Daily Review</span>
        </div>
        <div class="feature-item" style="background: #F89F00;">
          <i class="fas fa-robot"></i>
          <span>AI Assistant</span>
        </div>
        <div class="feature-item" style="background: #EA240B;">
          <i class="fas fa-book-open"></i>
          <span>Math Stories</span>
        </div>
        <div class="feature-item" style="background: #4360AF;">
          <i class="fas fa-star"></i>
          <span>My Collection</span>
        </div>
        <div class="feature-item" style="background: #3384B9;">
          <i class="fas fa-users"></i>
          <span>Community Plaza</span>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <!-- ▸▸▸ 侧 栏 ◂◂◂ -->
    <aside class="sidebar">
      <div class="logo">
        <img src="images/logo.png" class="logo-image" />
        <span class="logo-text">Math Village</span>
      </div>

      <button class="nav-btn active" data-content="MainPage"><i class="fas fa-home"></i> Home</button>
      <button class="nav-btn" data-content="Daily Review"><i class="fas fa-brain"></i> Daily Review</button>
      <button class="nav-btn" data-content="Daily Practice"><i class="fas fa-medal"></i> Daily Practice</button>
      <button class="nav-btn" data-content="Math Stories"><i class="fas fa-book-open"></i> Math Stories</button>
      <button class="nav-btn" data-content="My Collection"><i class="fas fa-star"></i> My Collection</button>
      <button class="nav-btn" data-content="AI Assistant"><i class="fas fa-robot"></i> AI Assistant</button>
      <button class="nav-btn" data-content="Community Plaza"><i class="fas fa-users"></i> Community Plaza</button>
    </aside>

    <!-- ▸▸▸ 主 区 域 ◂◂◂ -->
    <main class="main-content">
      <!-- 顶部工具栏（sticky） -->
      <header class="header-bar">
        <input type="text" placeholder="Search…" />
        <i class="fas fa-bell"></i>
        <!-- 设置图标带下拉菜单，登出 -->
        <div class="header-settings">
          <i class="fas fa-cog" id="settings-icon"></i>
          <div class="settings-dropdown hidden">
            <button onclick="logoutUser()">Logout</button>
          </div>
        </div>
        <i class="fas fa-palette"></i>
        <div class="header-profile">
          <img src="images/Anna.png" class="profile-icon" />
          <span>Anna</span>
        </div>
      </header>

      <!-- 动态内容区 -->
      <section id="MainPage"        class="content"><img src="images/Main page.png"         class="full-image" /></section>

      <section id="Daily Review" class="content hidden daily-review">
        <div class="dr-card" role="region" aria-labelledby="dr-title">

            <p class="dr-lead">Welcome back! Let’s strengthen your math foundation.</p>
            <p class="dr-line">                                                      </p>

            <p class="dr-line">Math learning builds step by step — today’s review helps you master what you’ve learned before.</p>
            <p class="dr-line">Humans tend to forget — but smart reviewing makes memory stronger.</p>
            <p class="dr-line">We’ve already gathered your recent tricky problems — just follow along and boost your skills!</p>
            <p class="dr-line"></p>

            <button class="dr-cta" id="start-review">Review</button>
          </div>
        </section>


      <section id="Daily Practice" class="content hidden dp">
    
        <div class="dp-board" role="region" aria-label="Practice map">
          <!-- 地图 -->
             <img src="images/math map_green.png" alt="Math Map" class="dp-map" />

             <!-- 北美洲位置 - 带 Voiceflow 链接 -->
             <button class="dp-pin" style="top:32%; left:22%;"
                     aria-label="Start today's practice"
                     title="Start today's practice"
                     data-url="https://creator.voiceflow.com/prototype/67c20b63d2f15c9ea5e63754">
               <i class="fas fa-map-marker-alt"></i>
               <span class="dp-pulse"></span>
             </button>

             <!-- 南美洲位置 - Algebra -->
             <button class="dp-pin" style="top:65%; left:28%;" 
                     aria-label="Algebra hub" 
                     title="Algebra hub">
               <i class="fas fa-map-marker-alt"></i>
             </button>

             <!-- 欧洲位置 - Geometry -->
             <button class="dp-pin" style="top:28%; left:48%;" 
                     aria-label="Geometry hub" 
                     title="Geometry hub">
               <i class="fas fa-map-marker-alt"></i>
             </button>

             <!-- 非洲位置 - Number sense -->
             <button class="dp-pin" style="top:52%; left:49%;" 
                     aria-label="Number sense" 
                     title="Number sense">
               <i class="fas fa-map-marker-alt"></i>
             </button>

             <!-- 亚洲位置 - Calculus -->
             <button class="dp-pin" style="top:35%; left:70%;" 
                     aria-label="Calculus hub" 
                     title="Calculus hub">
               <i class="fas fa-map-marker-alt"></i>
             </button>

             <!-- 大洋洲位置 - Statistics -->
             <button class="dp-pin" style="top:70%; left:82%;" 
                     aria-label="Statistics hub" 
                     title="Statistics hub">
               <i class="fas fa-map-marker-alt"></i>
             </button>
          </div>
      </section>

      <section id="Math Stories"    class="content hidden">
        <div class="book-grid">
          <div class="book-item"><img src="images/Infinity and Me.png"      class="book-image"><div class="book-title">Infinity and Me</div></div>
          <div class="book-item"><img src="images/Zero the Hero.png"        class="book-image"><div class="book-title">Zero the Hero</div></div>
          <div class="book-item"><img src="images/Sir Cumference.png"       class="book-image"><div class="book-title">Sir Cumference</div></div>
          <div class="book-item"><img src="images/Draw Plus Math....png"    class="book-image"><div class="book-title">Draw Plus Math…</div></div>
          <div class="book-item"><img src="images/Pythagoras and ....png"   class="book-image"><div class="book-title">Pythagoras and …</div></div>
          <div class="book-item"><img src="images/The Best of Times.png"    class="book-image"><div class="book-title">The Best of Times</div></div>
          <div class="book-item"><img src="images/What is Your An....png"   class="book-image"><div class="book-title">What is Your An…</div></div>
          <div class="book-item"><img src="images/Sir Cumference (2).png"   class="book-image"><div class="book-title">Sir Cumference (2)</div></div>
        </div>
      </section>

      <section id="My Collection" class="content hidden collection">
        <div class="col-header">
            <h2>My Collection</h2>
            <div class="col-actions">
              <select id="col-filter">
                <option value="all">All</option>
                <option value="note">Notes</option>
                <option value="story">Stories</option>
                <option value="post">Posts</option>
              </select>
              <button id="col-new-note" class="btn primary"><i class="fas fa-plus"></i> New Note</button>
            </div>
          </div>

          <!-- 编辑器（新建/编辑笔记） -->
          <div id="col-editor" class="editor hidden">
            <div class="editor-toolbar">
              <button type="button" data-cmd="bold"        title="Bold"><i class="fas fa-bold"></i></button>
              <button type="button" data-cmd="italic"      title="Italic"><i class="fas fa-italic"></i></button>
              <button type="button" data-cmd="underline"   title="Underline"><i class="fas fa-underline"></i></button>
              <button type="button" data-mark               title="Highlight"><i class="fas fa-highlighter"></i></button>
              <span class="sep"></span>
              <button type="button" data-cmd="insertUnorderedList" title="Bulleted List"><i class="fas fa-list-ul"></i></button>
              <button type="button" data-cmd="insertOrderedList"   title="Numbered List"><i class="fas fa-list-ol"></i></button>
              <button type="button" id="insert-checklist"          title="Checklist"><i class="fas fa-tasks"></i></button>
            </div>
            <input id="col-title" class="editor-title" placeholder="Title..." />
            <div id="col-body" class="editor-body" contenteditable="true" data-placeholder="Write something..."></div>
            <div class="editor-footer">
              <button id="col-cancel" class="btn">Cancel</button>
              <button id="col-save"   class="btn primary">Save</button>
            </div>
          </div>

          <!-- 列表：只显示预览 -->
          <div id="col-list" class="col-list"></div>

          <!-- 详情弹窗：可查看全文；笔记可编辑 -->
          <div id="col-modal" class="col-modal hidden" aria-modal="true" role="dialog">
            <div class="col-modal-content">
              <div class="col-modal-head">
                <input id="modal-title" class="editor-title" />
                <div class="modal-actions">
                  <button id="modal-edit"   class="btn"><i class="fas fa-pen"></i> Edit</button>
                  <button id="modal-share"  class="btn"><i class="fas fa-share"></i> Share</button>
                  <button id="modal-delete" class="btn"><i class="fas fa-trash"></i> Delete</button>
                  <button id="modal-close"  class="btn">Close</button>
                  <button id="modal-save"   class="btn primary hidden">Save</button>
                </div>
              </div>
              <div id="modal-body" class="editor-body" contenteditable="false"></div>

              <!-- 分享面板 -->
              <div id="share-sheet" class="share-sheet hidden">
                <button data-share="system"><i class="fas fa-paper-plane"></i> System Share</button>
                <button data-share="copy"><i class="fas fa-link"></i> Copy</button>
                <button data-share="plaza"><i class="fas fa-users"></i> Share to Community Plaza</button>
              </div>
            </div>
          </div>

          <!-- 右键菜单 -->
          <div id="col-menu" class="col-menu hidden">
            <button data-act="open"><i class="fas fa-eye"></i> Open</button>
            <button data-act="edit"><i class="fas fa-pen"></i> Edit</button>
            <button data-act="share"><i class="fas fa-share"></i> Share</button>
            <button data-act="delete"><i class="fas fa-trash"></i> Delete</button>
          </div>
        </section>

      
      <section id="AI Assistant" class="content hidden ai-assistant">
        <div id="mv-chat" class="mv-card">
          <div id="mv-messages" class="mv-messages" aria-live="polite"></div>

          <form id="mv-form" class="mv-composer">
            <textarea id="mv-input" rows="2"
              placeholder="How can I help you today?"></textarea>
            <button type="submit" class="mv-send">Send</button>
          </form>
        </div>

        <!-- 公式渲染 -->
        <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      </section>

      <section id="Community Plaza" class="content hidden plaza">
        <div id="plaza-feed" class="plaza-feed" aria-live="polite"></div>
      </section>

    </main>
  </div>

  <script src="script.js"></script>
</body>
  <div class="magic-switch" onclick="toggleTheme()">
  🪄
</div>

</html>








